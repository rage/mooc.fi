schema: schema.graphql
documents: "{graphql,pages,components,lib}/**/*.{ts,tsx}"
config:
  preResolveTypes: true
  namingConvention: keep
  avoidOptionals:
    field: true
  nonOptionalTypeName: true
  # skipTypeNameForRoot: true
generates:
  # ./static/types/generated/:
  #   preset: gql-tag-operations-preset
  #   presetConfig:
  #     augmentedModuleName: "@apollo/client"
  #   hooks:
  #     afterAllFileWrite:
  #       - prettier --write
  # ./static/types/generated/globalTypes.ts:
  #   plugins:
  #     - typescript
  #     - fragment-matcher
  #   hooks:
  #     afterOneFileWrite:
  #       - npm prettier --write
  ./static/types/generated/index.ts:
    pluckConfig:
      modules:
        - name: "@apollo/client"
          identifier: gql
    config:
      dedupeFragments: true
    plugins:
      - typescript
      - typescript-operations
      - fragment-matcher
      - typed-document-node
    hooks:
      afterOneFileWrite:
        - prettier --write
