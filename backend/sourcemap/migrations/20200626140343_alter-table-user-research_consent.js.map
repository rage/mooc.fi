{"version":3,"file":"20200626140343_alter-table-user-research_consent.js","sourceRoot":"","sources":["../../migrations/20200626140343_alter-table-user-research_consent.ts"],"names":[],"mappings":";;;;AAEA,SAAsB,EAAE,CAAC,IAAU;;;YACjC,sBAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;oBACnE,IAAI,CAAC,MAAM,EAAE;wBACX,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,KAAK;4BACnD,KAAK,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAA;wBACnC,CAAC,CAAC,CAAA;qBACH;gBACH,CAAC,CAAC,EAAA;;;CACH;AARD,gBAQC;AAED,SAAsB,IAAI,CAAC,IAAU;;;YACnC,sBAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,KAAK;oBACnD,KAAK,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAA;gBACtC,CAAC,CAAC,EAAA;;;CACH;AAJD,oBAIC","sourcesContent":["import * as Knex from \"knex\"\n\nexport async function up(knex: Knex): Promise<any> {\n  return knex.schema.hasColumn(\"user\", \"research_consent\").then((exists) => {\n    if (!exists) {\n      return knex.schema.alterTable(\"user\", function (table) {\n        table.boolean(\"research_consent\")\n      })\n    }\n  })\n}\n\nexport async function down(knex: Knex): Promise<any> {\n  return knex.schema.alterTable(\"user\", function (table) {\n    table.dropColumn(\"research_consent\")\n  })\n}\n"]}