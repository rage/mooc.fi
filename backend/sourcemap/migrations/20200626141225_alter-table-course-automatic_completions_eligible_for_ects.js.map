{"version":3,"file":"20200626141225_alter-table-course-automatic_completions_eligible_for_ects.js","sourceRoot":"","sources":["../../migrations/20200626141225_alter-table-course-automatic_completions_eligible_for_ects.ts"],"names":[],"mappings":";;;;AAEA,SAAsB,EAAE,CAAC,IAAU;;;YACjC,sBAAO,IAAI,CAAC,MAAM;qBACf,SAAS,CAAC,QAAQ,EAAE,yCAAyC,CAAC;qBAC9D,IAAI,CAAC,UAAC,MAAM;oBACX,IAAI,CAAC,MAAM,EAAE;wBACX,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,KAAK;4BACrD,KAAK;iCACF,OAAO,CAAC,yCAAyC,CAAC;iCAClD,SAAS,CAAC,IAAI,CAAC,CAAA;wBACpB,CAAC,CAAC,CAAA;qBACH;gBACH,CAAC,CAAC,EAAA;;;CACL;AAZD,gBAYC;AAED,SAAsB,IAAI,CAAC,IAAU;;;YACnC,sBAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,KAAK;oBACrD,KAAK,CAAC,UAAU,CAAC,yCAAyC,CAAC,CAAA;gBAC7D,CAAC,CAAC,EAAA;;;CACH;AAJD,oBAIC","sourcesContent":["import * as Knex from \"knex\"\n\nexport async function up(knex: Knex): Promise<any> {\n  return knex.schema\n    .hasColumn(\"course\", \"automatic_completions_eligible_for_ects\")\n    .then((exists) => {\n      if (!exists) {\n        return knex.schema.alterTable(\"course\", function (table) {\n          table\n            .boolean(\"automatic_completions_eligible_for_ects\")\n            .defaultTo(true)\n        })\n      }\n    })\n}\n\nexport async function down(knex: Knex): Promise<any> {\n  return knex.schema.alterTable(\"course\", function (table) {\n    table.dropColumn(\"automatic_completions_eligible_for_ects\")\n  })\n}\n"]}