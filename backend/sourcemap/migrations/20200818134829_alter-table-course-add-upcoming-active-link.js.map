{"version":3,"file":"20200818134829_alter-table-course-add-upcoming-active-link.js","sourceRoot":"","sources":["../../migrations/20200818134829_alter-table-course-add-upcoming-active-link.ts"],"names":[],"mappings":";;;;AAEA,SAAsB,EAAE,CAAC,IAAU;;;YACjC,sBAAO,IAAI,CAAC,MAAM;qBACf,SAAS,CAAC,QAAQ,EAAE,sBAAsB,CAAC;qBAC3C,IAAI,CAAC,UAAC,MAAM;oBACX,IAAI,CAAC,MAAM,EAAE;wBACX,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,KAAK;4BACrD,KAAK,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;wBACxD,CAAC,CAAC,CAAA;qBACH;gBACH,CAAC,CAAC,EAAA;;;CACL;AAVD,gBAUC;AAED,SAAsB,IAAI,CAAC,IAAU;;;YACnC,sBAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,KAAK;oBACrD,KAAK,CAAC,UAAU,CAAC,sBAAsB,CAAC,CAAA;gBAC1C,CAAC,CAAC,EAAA;;;CACH;AAJD,oBAIC","sourcesContent":["import * as Knex from \"knex\"\n\nexport async function up(knex: Knex): Promise<any> {\n  return knex.schema\n    .hasColumn(\"course\", \"upcoming_active_link\")\n    .then((exists) => {\n      if (!exists) {\n        return knex.schema.alterTable(\"course\", function (table) {\n          table.boolean(\"upcoming_active_link\").defaultTo(false)\n        })\n      }\n    })\n}\n\nexport async function down(knex: Knex): Promise<any> {\n  return knex.schema.alterTable(\"course\", function (table) {\n    table.dropColumn(\"upcoming_active_link\")\n  })\n}\n"]}