{"version":3,"file":"knexfile.js","sourceRoot":"","sources":["../knexfile.ts"],"names":[],"mappings":";;AAAA,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC;IAC5B,gBAAgB,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY;CACxD,CAAC,CAAA;AAEF,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAA;AAClC,IAAI,GAAG,IAAI,CAAA,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,WAAW,CAAC,GAAG,OAAM,CAAC,CAAC,EAAE;IACvC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAA;CAC7C;AAED,MAAM,CAAC,OAAO,GAAG;IACf,WAAW,EAAE;QACX,MAAM,EAAE,IAAI;QACZ,UAAU,EAAE,OAAC,OAAO,CAAC,GAAG,CAAC,WAAW,mCAAI,iBAAiB,CAAC;QAC1D,UAAU,EAAE,GAAG;KAChB;IAED,UAAU,EAAE;QACV,MAAM,EAAE,IAAI;QACZ,UAAU,EAAE,GAAG;QACf,UAAU,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;QACrC;;;;;;YAMI;QACJ,IAAI,EAAE;YACJ,GAAG,EAAE,CAAC;YACN,GAAG,EAAE,EAAE;SACR;QACD,UAAU,EAAE;YACV,SAAS,EAAE,iBAAiB;SAC7B;KACF;CACF,CAAA","sourcesContent":["require(\"dotenv-safe\").config({\n  allowEmptyValues: process.env.NODE_ENV === \"production\",\n})\n\nlet url = process.env.DATABASE_URL\nif (url && url?.lastIndexOf(\"?\") !== -1) {\n  url = url.substring(0, url.lastIndexOf(\"?\"))\n}\n\nmodule.exports = {\n  development: {\n    client: \"pg\",\n    searchPath: [process.env.SEARCH_PATH ?? \"default$prisma2\"],\n    connection: url, // \"postgres://prisma:prisma@localhost:5678/prisma?schema=default$prisma2\",\n  },\n\n  production: {\n    client: \"pg\",\n    connection: url,\n    searchPath: [process.env.SEARCH_PATH],\n    /*connection: {\n      database: process.env.DB_NAME,\n      user: process.env.DB_USER,\n      password: process.env.DB_PASSWORD,\n      host: process.env.DB_HOST,\n      port: Number(process.env.DB_PORT)\n    },*/\n    pool: {\n      min: 2,\n      max: 10,\n    },\n    migrations: {\n      tableName: \"knex_migrations\",\n    },\n  },\n}\n"]}