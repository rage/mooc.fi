{"version":3,"file":"getUserFromTMC.js","sourceRoot":"","sources":["../../../../bin/kafkaConsumer/common/getUserFromTMC.ts"],"names":[],"mappings":";;;AAAA,sEAA6C;AAG7C,IAAM,cAAc,GAAG,UAAO,MAAoB,EAAE,OAAe;;;;;gBAC3D,GAAG,GAAc,IAAI,gBAAS,EAAE,CAAA;gBAClB,qBAAM,GAAG,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAA;;gBAAnD,WAAW,GAAG,SAAqC;gBAEzD,sBAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;wBACxB,IAAI,EAAE;4BACJ,WAAW,EAAE,WAAW,CAAC,EAAE;4BAC3B,UAAU,EAAE,WAAW,CAAC,UAAU,CAAC,UAAU;4BAC7C,SAAS,EAAE,WAAW,CAAC,UAAU,CAAC,SAAS;4BAC3C,KAAK,EAAE,WAAW,CAAC,KAAK;4BACxB,QAAQ,EAAE,WAAW,CAAC,QAAQ;4BAC9B,aAAa,EAAE,WAAW,CAAC,aAAa;yBACzC;qBACF,CAAC,EAAA;;;KACH,CAAA;AAED,qBAAe,cAAc,CAAA","sourcesContent":["import TmcClient from \"../../../services/tmc\"\nimport { PrismaClient } from \"@prisma/client\"\n\nconst getUserFromTMC = async (prisma: PrismaClient, user_id: number) => {\n  const tmc: TmcClient = new TmcClient()\n  const userDetails = await tmc.getUserDetailsById(user_id)\n\n  return prisma.user.create({\n    data: {\n      upstream_id: userDetails.id,\n      first_name: userDetails.user_field.first_name,\n      last_name: userDetails.user_field.last_name,\n      email: userDetails.email,\n      username: userDetails.username,\n      administrator: userDetails.administrator,\n    },\n  })\n}\n\nexport default getUserFromTMC\n"]}